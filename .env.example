# =============================================================================
# RLM API Service â€” Environment Variables
# =============================================================================
# Copy to .env and fill in your values.
# All variables are prefixed with RLM_ (mapped by pydantic-settings).

# -- API Server ---------------------------------------------------------------
RLM_API_PORT=26030
RLM_API_WORKERS=4
RLM_API_LOG_LEVEL=info

# -- Redis (on shared-webservices network) ------------------------------------
RLM_REDIS_URL=redis://redis:6379/0
RLM_REDIS_PASSWORD=
RLM_REDIS_MAX_CONNECTIONS=20

# -- Authentication -----------------------------------------------------------
# Comma-separated list of valid API keys (source=env)
RLM_API_KEYS=rlm-key-change-me
# Where to read API keys from: "env" or "redis" (Redis set: rlm:api_keys)
RLM_API_KEY_SOURCE=env

# -- Rate Limiting ------------------------------------------------------------
RLM_RATE_LIMIT_ENABLED=true
RLM_RATE_LIMIT_REQUESTS=60
RLM_RATE_LIMIT_WINDOW_SECONDS=60

# -- Job Queue (Redis Streams) ------------------------------------------------
RLM_STREAM_NAME=rlm:jobs
RLM_CONSUMER_GROUP=rlm-workers
RLM_JOB_RESULT_TTL=3600
RLM_STREAM_BLOCK_MS=5000
RLM_JOB_MAX_LEN=100000

# -- Workers ------------------------------------------------------------------
RLM_WORKER_REPLICAS=4

# -- RLM Defaults -------------------------------------------------------------
RLM_DEFAULT_BACKEND=openai
RLM_DEFAULT_MODEL=gpt-5-nano
RLM_DEFAULT_MAX_DEPTH=1
RLM_DEFAULT_MAX_ITERATIONS=30

# -- Backend API Keys ---------------------------------------------------------
RLM_OPENAI_API_KEY=sk-...
RLM_ANTHROPIC_API_KEY=
RLM_GEMINI_API_KEY=
RLM_AZURE_OPENAI_API_KEY=
RLM_AZURE_OPENAI_ENDPOINT=
RLM_AZURE_OPENAI_API_VERSION=2024-02-15-preview
RLM_PORTKEY_API_KEY=
RLM_OPENROUTER_API_KEY=
RLM_VERCEL_API_KEY=
RLM_LITELLM_API_KEY=
RLM_VLLM_BASE_URL=
